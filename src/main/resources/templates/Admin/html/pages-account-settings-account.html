<!DOCTYPE html>
<html lang="en" class="light-style layout-menu-fixed" dir="ltr"
	data-theme="theme-default" data-assets-path="/Admin/assets/"
	data-template="vertical-menu-template-free"
	xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
<title>Account</title>
<meta name="description" content="" />
<!-- Favicon -->
<link rel="icon" type="image/x-icon"
	href="/Admin/assets/img/favicon/favicon.ico" />
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
	href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
	rel="stylesheet" />
<!-- Icons. Uncomment required icon fonts -->
<link rel="stylesheet" href="/Admin/assets/vendor/fonts/boxicons.css" />
<!-- Core CSS -->
<link rel="stylesheet" href="/Admin/assets/vendor/css/core.css"
	class="template-customizer-core-css" />
<link rel="stylesheet" href="/Admin/assets/vendor/css/theme-default.css"
	class="template-customizer-theme-css" />
<link rel="stylesheet" href="/Admin/assets/css/demo.css" />
<link rel="stylesheet" href="/Admin/assets/css/button.css" />
<!-- Vendors CSS -->
<link rel="stylesheet"
	href="/Admin/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
<!-- Page CSS -->
<!-- Helpers -->
<script src="/Admin/assets/vendor/js/helpers.js"></script>
<!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
<!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
<script src="/Admin/assets/js/config.js"></script>
</head>
<style>
.error-message::before {
	content: "âš  ";
	display: inline-block;
	margin-right: 5px;
	color: #D8000C;
}

.error-message:empty::before {
	content: none;
}

.error-message {
	color: #D8000C;
	padding: 5px;
	margin: 5px 0;
	border-radius: 3px;
	font-size: 0.9em;
	text-align: left;
}
</style>
<body>
	<!-- Layout wrapper -->
	<div class="layout-wrapper layout-content-navbar">
		<div class="col-12">
			<!-- Layout container -->
			<div class="row">
				<!-- Navbar -->
				<nav
					class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme "
					id="layout-navbar">
					<div
						class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
						<a class="nav-item nav-link px-0 me-xl-4"
							href="javascript:void(0)"> <i class="bx bx-menu bx-sm"></i>
						</a>
					</div>
					<button class="codepro-custom-btn codepro-btn-15" title="Code Pro"
						onclick="window.location.href='/home'">Back</button>
					<!-- /Search -->
					<ul class="navbar-nav flex-row align-items-center ms-auto">
						<!-- Place this tag where you want the button to render. -->
						<li class="nav-item lh-1 me-3"><a class="github-button"
							href="https://github.com/themeselection/sneat-html-admin-template-free"
							data-icon="octicon-star" data-size="large" data-show-count="true"
							aria-label="Star themeselection/sneat-html-admin-template-free on GitHub">Star</a>
						</li>
						<!-- User -->
						<li class="nav-item navbar-dropdown dropdown-user dropdown">
							<a class="nav-link dropdown-toggle hide-arrow"
							href="javascript:void(0);" data-bs-toggle="dropdown">
								<div class="avatar avatar-online">
									<img src="/Admin/assets/img/avatars/1.png" alt
										class="w-px-40 h-auto rounded-circle" />
								</div>
						</a>
							<ul class="dropdown-menu dropdown-menu-end">
								<li><a class="dropdown-item" href="#">
										<div class="d-flex">
											<div class="flex-shrink-0 me-3">
												<div class="avatar avatar-online">
													<img src="/Admin/assets/img/avatars/1.png" alt
														class="w-px-40 h-auto rounded-circle" />
												</div>
											</div>
											<div class="flex-grow-1">
												<span class="fw-semibold d-block">John Doe</span> <small
													class="text-muted">Admin</small>
											</div>
										</div>
								</a></li>
								<li>
									<div class="dropdown-divider"></div>
								</li>
								<li><a class="dropdown-item" href="#"> <i
										class="bx bx-user me-2"></i> <span class="align-middle">My
											Profile</span>
								</a></li>
								<li><a class="dropdown-item" href="#"> <i
										class="bx bx-cog me-2"></i> <span class="align-middle">Settings</span>
								</a></li>
								<li><a class="dropdown-item" href="#"> <span
										class="d-flex align-items-center align-middle"> <i
											class="flex-shrink-0 bx bx-credit-card me-2"></i> <span
											class="flex-grow-1 align-middle">Billing</span> <span
											class="flex-shrink-0 badge badge-center rounded-pill bg-danger w-px-20 h-px-20">4</span>
									</span>
								</a></li>
								<li>
									<div class="dropdown-divider"></div>
								</li>
								<li><a class="dropdown-item" href="auth-login-basic.html">
										<i class="bx bx-power-off me-2"></i> <span
										class="align-middle">Log Out</span>
								</a></li>
							</ul>
						</li>
						<!--/ User -->
					</ul>
			</div>
			</nav>
			<!-- / Navbar -->
			<!-- Content wrapper -->
			<div class="col-md-12">
				<!-- Content -->
				<div class="container-xxl flex-grow-1 container-p-y">
					<h4 class="fw-bold py-3 mb-4">
						<span class="text-muted fw-light">Account Settings /</span>
						Account
					</h4>
					<div class="row">
						<div class="col-md-12">
							<ul class="nav nav-pills flex-column flex-md-row mb-3">
								<li class="nav-item"><a class="nav-link active"
									href="javascript:void(0);"><i class="bx bx-user me-1"></i>
										Account</a></li>
								<li class="nav-item"><a class="nav-link"
									href="/pages-account-settings-notifications"><i
										class="bx bx-bell me-1"></i> Notifications</a></li>
								<li class="nav-item"><a class="nav-link"
									href="/pages-account-settings-connections"><i
										class="bx bx-link-alt me-1"></i> Connections</a></li>
							</ul>
							<div class="card mb-4">
								<h5 class="card-header">Profile Details</h5>
								<!-- Account -->
								<div class="card-body">
									<form action="">
										<div
											class="d-flex align-items-start align-items-sm-center gap-4">
											<img src="/Admin/assets/img/avatars/1.png" alt="user-avatar"
												class="d-block rounded" height="100" width="100"
												id="uploadedAvatar" />
											<div class="button-wrapper">
												<label for="upload" class="btn btn-primary me-2 mb-4"
													tabindex="0"> <span class="d-none d-sm-block">Upload
														new photo</span> <i class="bx bx-upload d-block d-sm-none"></i> <input
													type="file" id="upload" class="account-file-input" hidden
													accept="image/png, image/jpeg" />
												</label>
												<button type="button"
													class="btn btn-outline-secondary account-image-reset mb-4">
													<i class="bx bx-reset d-block d-sm-none"></i> <span
														class="d-none d-sm-block">Reset</span>
												</button>
												<p class="text-muted mb-0">Allowed JPG, GIF or PNG. Max
													size of 800K</p>
											</div>
										</div>
									</form>
								</div>
								<hr class="my-0" />
								<div class="card-body">
									<form id="formAccountSettings"
										action="/pages-account-settings-account" method="POST">
										<input type="hidden" name="userId" th:value="${user?.userId}">
										<div class="row">
											<div class="mb-3 col-md-6">
												<label for="firstName" class="form-label">First Name</label>
												<input class="form-control" type="text"
													th:value="${user?.firstName}" name="firstName" /> <span
													th:if="${errors?.hasFieldErrors('firstName')}"
													class="error-message"
													th:text="${errors?.getFieldError('firstName')?.getDefaultMessage()}"></span>
											</div>
											<div class="mb-3 col-md-6">
												<label for="lastName" class="form-label">Last Name</label> <input
													 class="form-control" type="text"
													th:value="${user?.lastName}" name="lastName" /> <span
													th:if="${errors?.hasFieldErrors('lastName')}"
													class="error-message"
													th:text="${errors?.getFieldError('lastName')?.getDefaultMessage()}"></span>
											</div>
											<div class="mb-3 col-md-6">
												<label for="email" class="form-label">E-mail</label> <input
													class="form-control" type="text" th:value="${user?.email}"
													name="email"/> <span
													th:if="${errors?.hasFieldErrors('email')}"
													class="error-message"
													th:text="${errors?.getFieldError('email')?.getDefaultMessage()}"></span>
											</div>
											<div class="mb-3 col-md-6">
												<label class="form-label" for="phoneNumber">Phone
													Number</label>
												<div class="input-group input-group-merge">
													<span class="input-group-text">VN (+84)</span> <input
														th:value="${user?.phone}" type="text" name="phone"
														class="form-control"/>
												</div>
												<span th:if="${errors?.hasFieldErrors('phone')}"
													class="error-message"
													th:text="${errors?.getFieldError('phone')?.getDefaultMessage()}"></span>
											</div>
											<div class="mb-3 col-md-6">
												<label for="address" class="form-label">Address</label> <input 
													type="text" class="form-control"
													th:value="${user?.address?.addressLine1}" name="address1"
													/> <span
													th:if="${errors?.hasFieldErrors('addressLine1')}"
													class="error-message"
													th:text="${errors?.getFieldError('addressLine1')?.getDefaultMessage()}"></span>
											</div>
											<div class="mt-2">
												<button type="submit" class="btn btn-primary me-2">Save
													changes</button>
												<button type="reset" class="btn btn-outline-secondary">Cancel</button>
											</div>
									</form>
								</div>
								<!-- /Account -->
							</div>
							<div class="card mb-4">
								<h5 class="card-header">Change Password</h5>
								<div class="card-body">
									<form id="formChangePassword" method="POST"
										action="/change-pass">
										<div class="alert alert-warning" role="alert">
											<h6 class="alert-heading mb-2 pb-1">Ensure that these
												requirements are met</h6>
										</div>
										<div class="row">
											<div class="mb-3 col-12 col-sm-6 form-password-toggle">
												<label class="form-label">New
													Password</label>
												<div class="input-group input-group-merge">
													<input class="form-control" type="password"
														name="newPassword"
														placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;" />
													<span class="input-group-text cursor-pointer"><i
														class="bx bx-hide"></i></span>
												</div>
												<span th:if="${errorss?.hasFieldErrors('newPassword')}"
													class="error-message"
													th:text="${errorss?.getFieldError('newPassword')?.getDefaultMessage()}"></span>
												<span th:if="${errorpass != null}" class="error-message"
													th:text="${errorpass}"></span>
											</div>
											<div class="mb-3 col-12 col-sm-6 form-password-toggle">
												<label class="form-label" for="confirmPassword">Confirm
													New Password</label>
												<div class="input-group input-group-merge">
													<input class="form-control" type="password"
														name="confirmPassword" id="confirmPassword"
														placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;" />
													<span class="input-group-text cursor-pointer"><i
														class="bx bx-hide"></i></span>
												</div>
												<span th:if="${errorss?.hasFieldErrors('confirmPassword')}"
													class="error-message"
													th:text="${errorss?.getFieldError('confirmPassword')?.getDefaultMessage()}"></span>
												<span th:if="${errorpass != null}" class="error-message"
													th:text="${errorpass}"></span>
											</div>
											<div>
												<button type="submit" class="btn btn-primary me-2">Change
													Password</button>
											</div>
										</div>
									</form>
								</div>
							</div>
							<div class="card">
								<h5 class="card-header">Delete Account</h5>
								<div class="card-body">
									<div class="mb-3 col-12 mb-0">
										<div class="alert alert-warning">
											<h6 class="alert-heading fw-bold mb-1">Are you sure you
												want to delete your account?</h6>
											<p class="mb-0">Once you delete your account, there is no
												going back. Please be certain.</p>
										</div>
									</div>
									<form action="/account/delete" method="post" onsubmit="return true">
										<div class="form-check mb-3">
											<input class="form-check-input" type="checkbox"
												name="accountActivation" value="true"/> <label
												class="form-check-label" >I
												confirm my account deactivation</label>
										</div>
										<button type="submit"
											class="btn btn-danger deactivate-account">Deactivate
											Account</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- / Content -->
				<!-- / Footer -->
				<div class="content-backdrop fade"></div>
			</div>
			<!-- Content wrapper -->
		</div>
		<!-- / Layout page -->
	</div>
	<!-- Overlay -->
	<div class="layout-overlay layout-menu-toggle"></div>
	</div>
	<!-- / Layout wrapper -->
	<!-- Core JS -->
	<!-- build:js assets/vendor/js/core.js -->
	<script src="/Admin/assets/vendor/libs/jquery/jquery.js"></script>
	<script src="/Admin/assets/vendor/libs/popper/popper.js"></script>
	<script src="/Admin/assets/vendor/js/bootstrap.js"></script>
	<script
		src="/Admin/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
	<script src="/Admin/assets/vendor/js/menu.js"></script>
	<!-- endbuild -->
	<!-- Vendors JS -->
	<!-- Main JS -->
	<script src="/Admin/assets/js/main.js"></script>
	<!-- Page JS -->
	<script src="/Admin/assets/js/pages-account-settings-account.js"></script>
	<!-- Place this tag in your head or just before your close body tag. -->
	<script async defer src="https://buttons.github.io/buttons.js"></script>

	<script>
		document
				.getElementById('upload')
				.addEventListener(
						'change',
						function(event) {
							const file = event.target.files[0];
							if (file) {
								const reader = new FileReader();
								reader.onload = function(e) {
									document.getElementById('uploadedAvatar').src = e.target.result;
								}
								reader.readAsDataURL(file);
							}
						});

		document
				.querySelector('.account-image-reset')
				.addEventListener(
						'click',
						function() {
							document.getElementById('uploadedAvatar').src = '/Admin/assets/img/avatars/1.png';
							document.getElementById('upload').value = ''; // Clear the file input
						});
	</script>
</body>

</html>